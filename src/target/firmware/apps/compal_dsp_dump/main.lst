   1              		.cpu arm7tdmi
   2              		.fpu softvfp
   3              		.eabi_attribute 20, 1
   4              		.eabi_attribute 21, 1
   5              		.eabi_attribute 23, 3
   6              		.eabi_attribute 24, 1
   7              		.eabi_attribute 25, 1
   8              		.eabi_attribute 26, 1
   9              		.eabi_attribute 30, 4
  10              		.eabi_attribute 34, 0
  11              		.eabi_attribute 18, 4
  12              		.file	"main.c"
  13              		.text
  14              	.Ltext0:
  15              		.cfi_sections	.debug_frame
  16              		.section	.text.startup.main,"ax",%progbits
  17              		.align	2
  18              		.global	main
  20              	main:
  21              	.LFB37:
  22              		.file 1 "apps/compal_dsp_dump/main.c"
   1:apps/compal_dsp_dump/main.c **** /* main program of Free Software for Calypso Phone */
   2:apps/compal_dsp_dump/main.c **** 
   3:apps/compal_dsp_dump/main.c **** /* (C) 2010 Harald Welte <laforge@gnumonks.org>
   4:apps/compal_dsp_dump/main.c ****  * (C) 2010 Sylvain Munaut <tnt@246tNt.com>
   5:apps/compal_dsp_dump/main.c ****  *
   6:apps/compal_dsp_dump/main.c ****  * All Rights Reserved
   7:apps/compal_dsp_dump/main.c ****  *
   8:apps/compal_dsp_dump/main.c ****  * This program is free software; you can redistribute it and/or modify
   9:apps/compal_dsp_dump/main.c ****  * it under the terms of the GNU General Public License as published by
  10:apps/compal_dsp_dump/main.c ****  * the Free Software Foundation; either version 2 of the License, or
  11:apps/compal_dsp_dump/main.c ****  * (at your option) any later version.
  12:apps/compal_dsp_dump/main.c ****  *
  13:apps/compal_dsp_dump/main.c ****  * This program is distributed in the hope that it will be useful,
  14:apps/compal_dsp_dump/main.c ****  * but WITHOUT ANY WARRANTY; without even the implied warranty of
  15:apps/compal_dsp_dump/main.c ****  * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  16:apps/compal_dsp_dump/main.c ****  * GNU General Public License for more details.
  17:apps/compal_dsp_dump/main.c ****  *
  18:apps/compal_dsp_dump/main.c ****  * You should have received a copy of the GNU General Public License along
  19:apps/compal_dsp_dump/main.c ****  * with this program; if not, write to the Free Software Foundation, Inc.,
  20:apps/compal_dsp_dump/main.c ****  * 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA.
  21:apps/compal_dsp_dump/main.c ****  *
  22:apps/compal_dsp_dump/main.c ****  */
  23:apps/compal_dsp_dump/main.c **** 
  24:apps/compal_dsp_dump/main.c **** #include <memory.h>
  25:apps/compal_dsp_dump/main.c **** #include <delay.h>
  26:apps/compal_dsp_dump/main.c **** #include <stdio.h>
  27:apps/compal_dsp_dump/main.c **** #include <stdint.h>
  28:apps/compal_dsp_dump/main.c **** #include <rffe.h>
  29:apps/compal_dsp_dump/main.c **** #include <keypad.h>
  30:apps/compal_dsp_dump/main.c **** #include <board.h>
  31:apps/compal_dsp_dump/main.c **** #include <abb/twl3025.h>
  32:apps/compal_dsp_dump/main.c **** #include <rf/trf6151.h>
  33:apps/compal_dsp_dump/main.c **** #include <calypso/clock.h>
  34:apps/compal_dsp_dump/main.c **** #include <calypso/tpu.h>
  35:apps/compal_dsp_dump/main.c **** #include <calypso/tsp.h>
  36:apps/compal_dsp_dump/main.c **** #include <calypso/dsp.h>
  37:apps/compal_dsp_dump/main.c **** #include <calypso/irq.h>
  38:apps/compal_dsp_dump/main.c **** #include <calypso/misc.h>
  39:apps/compal_dsp_dump/main.c **** #include <comm/timer.h>
  40:apps/compal_dsp_dump/main.c **** #include <fb/framebuffer.h>
  41:apps/compal_dsp_dump/main.c **** 
  42:apps/compal_dsp_dump/main.c **** /* Main Program */
  43:apps/compal_dsp_dump/main.c **** const char *hr = "======================================================================\n";
  44:apps/compal_dsp_dump/main.c **** 
  45:apps/compal_dsp_dump/main.c **** int main(void)
  46:apps/compal_dsp_dump/main.c **** {
  23              		.loc 1 46 0
  24              		.cfi_startproc
  25              		@ Function supports interworking.
  26              		@ args = 0, pretend = 0, frame = 0
  27              		@ frame_needed = 0, uses_anonymous_args = 0
  28 0000 F8402DE9 		stmfd	sp!, {r3, r4, r5, r6, r7, lr}
  29              	.LCFI0:
  30              		.cfi_def_cfa_offset 24
  31              		.cfi_offset 3, -24
  32              		.cfi_offset 4, -20
  33              		.cfi_offset 5, -16
  34              		.cfi_offset 6, -12
  35              		.cfi_offset 7, -8
  36              		.cfi_offset 14, -4
  47:apps/compal_dsp_dump/main.c **** 	board_init(1);
  37              		.loc 1 47 0
  38 0004 0100A0E3 		mov	r0, #1
  48:apps/compal_dsp_dump/main.c **** 
  49:apps/compal_dsp_dump/main.c **** 	puts("\n\nVADIMBETMAN Compal DSP Dumper (revision " GIT_REVISION ")\n");
  50:apps/compal_dsp_dump/main.c **** 	puts(hr);
  39              		.loc 1 50 0
  40 0008 04419FE5 		ldr	r4, .L4
  47:apps/compal_dsp_dump/main.c **** 	board_init(1);
  41              		.loc 1 47 0
  42 000c FEFFFFEB 		bl	board_init
  43              	.LVL0:
  49:apps/compal_dsp_dump/main.c **** 	puts("\n\nVADIMBETMAN Compal DSP Dumper (revision " GIT_REVISION ")\n");
  44              		.loc 1 49 0
  45 0010 00019FE5 		ldr	r0, .L4+4
  46 0014 FEFFFFEB 		bl	puts
  47              	.LVL1:
  48              		.loc 1 50 0
  49 0018 000094E5 		ldr	r0, [r4]
  50 001c FEFFFFEB 		bl	puts
  51              	.LVL2:
  51:apps/compal_dsp_dump/main.c **** 
  52:apps/compal_dsp_dump/main.c **** 	/* Dump device identification */
  53:apps/compal_dsp_dump/main.c **** 	dump_dev_id();
  52              		.loc 1 53 0
  53 0020 FEFFFFEB 		bl	dump_dev_id
  54              	.LVL3:
  54:apps/compal_dsp_dump/main.c **** 	puts(hr);
  55              		.loc 1 54 0
  56 0024 000094E5 		ldr	r0, [r4]
  57              	.LBB52:
  58              	.LBB53:
  59              		.file 2 "include/fb/framebuffer.h"
   1:include/fb/framebuffer.h **** #ifndef _FB_FRAMEBUFFER_H
   2:include/fb/framebuffer.h **** #define _FB_FRAMEBUFFER_H
   3:include/fb/framebuffer.h **** 
   4:include/fb/framebuffer.h **** #include <fb/font.h>
   5:include/fb/framebuffer.h **** #include <stdint.h>
   6:include/fb/framebuffer.h **** 
   7:include/fb/framebuffer.h **** /* color is encoded as <special><red><green><blue> */
   8:include/fb/framebuffer.h **** /* if a color is "special", then the RGB components most likely
   9:include/fb/framebuffer.h ****    don't make sense. Use "special" colours when you have to
  10:include/fb/framebuffer.h ****    mask out bits with transparency or you have to encode
  11:include/fb/framebuffer.h ****    colours in a fixed color palette... */
  12:include/fb/framebuffer.h **** 
  13:include/fb/framebuffer.h **** #define FB_COLOR_WHITE		0x00ffffffU
  14:include/fb/framebuffer.h **** #define FB_COLOR_BLACK		0x00000000U
  15:include/fb/framebuffer.h **** #define FB_COLOR_TRANSP		0x01ffffffU
  16:include/fb/framebuffer.h **** 
  17:include/fb/framebuffer.h **** #define FB_COLOR_RGB(r,g,b) ((((r) & 0xff)<<16)|(((g)&0xff)<<8)|((b)&0xff))
  18:include/fb/framebuffer.h **** #define FB_COLOR_RED		FB_COLOR_RGB(0xff,0x00,0x00)
  19:include/fb/framebuffer.h **** #define FB_COLOR_GREEN		FB_COLOR_RGB(0x00,0xff,0x00)
  20:include/fb/framebuffer.h **** #define FB_COLOR_BLUE		FB_COLOR_RGB(0x00,0x00,0xff)
  21:include/fb/framebuffer.h **** 
  22:include/fb/framebuffer.h **** /* encode */
  23:include/fb/framebuffer.h **** 
  24:include/fb/framebuffer.h **** /* decode */
  25:include/fb/framebuffer.h **** #define FB_COLOR_IS_SPECIAL(v)     (!!((v) & 0xff000000U))
  26:include/fb/framebuffer.h **** #define FB_COLOR_TO_R(v)		(((v)>>16) & 0xff)
  27:include/fb/framebuffer.h **** #define FB_COLOR_TO_G(v)		(((v)>> 8) & 0xff)
  28:include/fb/framebuffer.h **** #define FB_COLOR_TO_B(v)		( (v)      & 0xff)
  29:include/fb/framebuffer.h **** 
  30:include/fb/framebuffer.h **** struct framebuffer {
  31:include/fb/framebuffer.h **** 	char name[8];				// keep it short!
  32:include/fb/framebuffer.h **** 	void (*init)();				// (re)initialize
  33:include/fb/framebuffer.h **** 	void (*clear)();			// clear display
  34:include/fb/framebuffer.h **** 	void (*boxto)(uint16_t x,uint16_t y);	// draw box to xy
  35:include/fb/framebuffer.h **** 	void (*lineto)(uint16_t x,uint16_t y);	// draw line to xy
  36:include/fb/framebuffer.h **** 	int (*putstr)(char *c,int maxwidth);	// put text in current font to fb
  37:include/fb/framebuffer.h **** 	void (*flush)();			// flush changes
  38:include/fb/framebuffer.h **** 
  39:include/fb/framebuffer.h **** 	uint16_t width,height;			// width/height of fb
  40:include/fb/framebuffer.h **** 	uint16_t cursor_x,cursor_y;		// current cursor
  41:include/fb/framebuffer.h **** 	uint32_t fg_color,bg_color;		// current fg/bg color
  42:include/fb/framebuffer.h **** 	enum fb_font_id font;			// current font
  43:include/fb/framebuffer.h **** };
  44:include/fb/framebuffer.h **** 
  45:include/fb/framebuffer.h **** /* there is a single framebuffer, the specific driver defines
  46:include/fb/framebuffer.h ****    the "framebuffer" symbol */
  47:include/fb/framebuffer.h **** extern struct framebuffer *framebuffer;
  48:include/fb/framebuffer.h **** 
  49:include/fb/framebuffer.h **** static inline void
  50:include/fb/framebuffer.h **** fb_init(){
  51:include/fb/framebuffer.h **** 	framebuffer->init();
  52:include/fb/framebuffer.h **** }
  53:include/fb/framebuffer.h **** 
  54:include/fb/framebuffer.h **** static inline void
  55:include/fb/framebuffer.h **** fb_clear(){
  56:include/fb/framebuffer.h **** 	framebuffer->clear();
  60              		.loc 2 56 0
  61 0028 EC409FE5 		ldr	r4, .L4+8
  62              	.LBE53:
  63              	.LBE52:
  64              		.loc 1 54 0
  65 002c FEFFFFEB 		bl	puts
  66              	.LVL4:
  67              	.LBB55:
  68              	.LBB54:
  69              		.loc 2 56 0
  70 0030 003094E5 		ldr	r3, [r4]
  71 0034 0CC093E5 		ldr	ip, [r3, #12]
  72 0038 0FE0A0E1 		mov	lr, pc
  73 003c 1CFF2FE1 		bx	ip
  74              	.LVL5:
  75              	.LBE54:
  76              	.LBE55:
  77              	.LBB56:
  78              	.LBB57:
  57:include/fb/framebuffer.h **** }
  58:include/fb/framebuffer.h **** 
  59:include/fb/framebuffer.h **** static inline void
  60:include/fb/framebuffer.h **** fb_boxto(uint16_t x,uint16_t y){
  61:include/fb/framebuffer.h **** 	framebuffer->boxto(x,y);
  62:include/fb/framebuffer.h **** }
  63:include/fb/framebuffer.h **** 
  64:include/fb/framebuffer.h **** static inline void
  65:include/fb/framebuffer.h **** fb_lineto(uint16_t x,uint16_t y){
  66:include/fb/framebuffer.h **** 	framebuffer->lineto(x,y);
  67:include/fb/framebuffer.h **** }
  68:include/fb/framebuffer.h **** 
  69:include/fb/framebuffer.h **** static inline int
  70:include/fb/framebuffer.h **** fb_putstr(char *str,int maxwidth){
  71:include/fb/framebuffer.h **** 	return framebuffer->putstr(str,maxwidth);
  72:include/fb/framebuffer.h **** }
  73:include/fb/framebuffer.h **** 
  74:include/fb/framebuffer.h **** static inline void
  75:include/fb/framebuffer.h **** fb_flush(){
  76:include/fb/framebuffer.h **** 	framebuffer->flush();
  77:include/fb/framebuffer.h **** }
  78:include/fb/framebuffer.h **** 
  79:include/fb/framebuffer.h **** static inline void
  80:include/fb/framebuffer.h **** fb_gotoxy(uint16_t x,uint16_t y){
  81:include/fb/framebuffer.h **** 	framebuffer->cursor_x = x;
  82:include/fb/framebuffer.h **** 	framebuffer->cursor_y = y;
  83:include/fb/framebuffer.h **** }
  84:include/fb/framebuffer.h **** 
  85:include/fb/framebuffer.h **** static inline void
  86:include/fb/framebuffer.h **** fb_setfg(uint32_t color){
  87:include/fb/framebuffer.h **** 	framebuffer->fg_color = color;
  79              		.loc 2 87 0
  80 0040 003094E5 		ldr	r3, [r4]
  81              	.LBE57:
  82              	.LBE56:
  83              	.LBB60:
  84              	.LBB61:
  88:include/fb/framebuffer.h **** }
  89:include/fb/framebuffer.h **** 
  90:include/fb/framebuffer.h **** static inline void
  91:include/fb/framebuffer.h **** fb_setbg(uint32_t color){
  92:include/fb/framebuffer.h **** 	framebuffer->bg_color = color;
  93:include/fb/framebuffer.h **** }
  94:include/fb/framebuffer.h **** 
  95:include/fb/framebuffer.h **** static inline void
  96:include/fb/framebuffer.h **** fb_setfont(enum fb_font_id fid){
  97:include/fb/framebuffer.h **** 	framebuffer->font = fid;
  85              		.loc 2 97 0
  86 0044 0120A0E3 		mov	r2, #1
  87              	.LBE61:
  88              	.LBE60:
  55:apps/compal_dsp_dump/main.c **** 
  56:apps/compal_dsp_dump/main.c **** 	fb_clear();
  57:apps/compal_dsp_dump/main.c **** 
  58:apps/compal_dsp_dump/main.c **** 	fb_setfg(FB_COLOR_BLACK);
  59:apps/compal_dsp_dump/main.c **** 	fb_setbg(FB_COLOR_WHITE);
  60:apps/compal_dsp_dump/main.c **** 	fb_setfont(FB_FONT_HELVB14);
  61:apps/compal_dsp_dump/main.c **** 
  62:apps/compal_dsp_dump/main.c **** 	fb_gotoxy(2,20);
  63:apps/compal_dsp_dump/main.c **** 	fb_putstr("DSP Dump",framebuffer->width-4);
  89              		.loc 1 63 0
  90 0048 B012D3E1 		ldrh	r1, [r3, #32]
  91              	.LBB63:
  92              	.LBB62:
  93              		.loc 2 97 0
  94 004c 3020C3E5 		strb	r2, [r3, #48]
  95              	.LBE62:
  96              	.LBE63:
  97              	.LBB64:
  98              	.LBB58:
  87:include/fb/framebuffer.h **** 	framebuffer->fg_color = color;
  99              		.loc 2 87 0
 100 0050 0050A0E3 		mov	r5, #0
 101              	.LBE58:
 102              	.LBE64:
 103              	.LBB65:
 104              	.LBB66:
  82:include/fb/framebuffer.h **** 	framebuffer->cursor_y = y;
 105              		.loc 2 82 0
 106 0054 1420A0E3 		mov	r2, #20
 107              	.LBE66:
 108              	.LBE65:
 109              	.LBB69:
 110              	.LBB70:
  92:include/fb/framebuffer.h **** 	framebuffer->bg_color = color;
 111              		.loc 2 92 0
 112 0058 FF64E0E3 		mvn	r6, #-16777216
 113              	.LBE70:
 114              	.LBE69:
 115              	.LBB72:
 116              	.LBB67:
  81:include/fb/framebuffer.h **** 	framebuffer->cursor_x = x;
 117              		.loc 2 81 0
 118 005c 0270A0E3 		mov	r7, #2
  82:include/fb/framebuffer.h **** 	framebuffer->cursor_y = y;
 119              		.loc 2 82 0
 120 0060 B622C3E1 		strh	r2, [r3, #38]	@ movhi
 121              	.LBE67:
 122              	.LBE72:
 123              	.LBB73:
 124              	.LBB59:
  87:include/fb/framebuffer.h **** 	framebuffer->fg_color = color;
 125              		.loc 2 87 0
 126 0064 285083E5 		str	r5, [r3, #40]
 127              	.LVL6:
 128              	.LBE59:
 129              	.LBE73:
 130              	.LBB74:
 131              	.LBB71:
  92:include/fb/framebuffer.h **** 	framebuffer->bg_color = color;
 132              		.loc 2 92 0
 133 0068 2C6083E5 		str	r6, [r3, #44]
 134              	.LVL7:
 135              	.LBE71:
 136              	.LBE74:
 137              	.LBB75:
 138              	.LBB68:
  81:include/fb/framebuffer.h **** 	framebuffer->cursor_x = x;
 139              		.loc 2 81 0
 140 006c B472C3E1 		strh	r7, [r3, #36]	@ movhi
 141              	.LBE68:
 142              	.LBE75:
 143              	.LBB76:
 144              	.LBB77:
  71:include/fb/framebuffer.h **** 	return framebuffer->putstr(str,maxwidth);
 145              		.loc 2 71 0
 146 0070 041041E2 		sub	r1, r1, #4
 147              	.LVL8:
 148 0074 A4009FE5 		ldr	r0, .L4+12
 149 0078 18C093E5 		ldr	ip, [r3, #24]
 150 007c 0FE0A0E1 		mov	lr, pc
 151 0080 1CFF2FE1 		bx	ip
 152              	.LVL9:
 153              	.LBE77:
 154              	.LBE76:
 155              	.LBB78:
 156              	.LBB79:
  87:include/fb/framebuffer.h **** 	framebuffer->fg_color = color;
 157              		.loc 2 87 0
 158 0084 003094E5 		ldr	r3, [r4]
 159              	.LBE79:
 160              	.LBE78:
  64:apps/compal_dsp_dump/main.c **** 
  65:apps/compal_dsp_dump/main.c **** 	fb_setfg(FB_COLOR_RED);
  66:apps/compal_dsp_dump/main.c **** 	fb_setbg(FB_COLOR_BLUE);
  67:apps/compal_dsp_dump/main.c **** 
  68:apps/compal_dsp_dump/main.c **** 	fb_gotoxy(2,25);
  69:apps/compal_dsp_dump/main.c **** 	fb_boxto(framebuffer->width-3,38);
 161              		.loc 1 69 0
 162 0088 B002D3E1 		ldrh	r0, [r3, #32]
 163              	.LBB81:
 164              	.LBB80:
  87:include/fb/framebuffer.h **** 	framebuffer->fg_color = color;
 165              		.loc 2 87 0
 166 008c FF28A0E3 		mov	r2, #16711680
 167 0090 282083E5 		str	r2, [r3, #40]
 168              	.LVL10:
 169              	.LBE80:
 170              	.LBE81:
 171              		.loc 1 69 0
 172 0094 030040E2 		sub	r0, r0, #3
 173              	.LBB82:
 174              	.LBB83:
  92:include/fb/framebuffer.h **** 	framebuffer->bg_color = color;
 175              		.loc 2 92 0
 176 0098 FF20A0E3 		mov	r2, #255
 177 009c 2C2083E5 		str	r2, [r3, #44]
 178              	.LVL11:
 179              	.LBE83:
 180              	.LBE82:
 181              	.LBB84:
 182              	.LBB85:
  61:include/fb/framebuffer.h **** 	framebuffer->boxto(x,y);
 183              		.loc 2 61 0
 184 00a0 0008A0E1 		mov	r0, r0, asl #16
 185              	.LBE85:
 186              	.LBE84:
 187              	.LBB87:
 188              	.LBB88:
  82:include/fb/framebuffer.h **** 	framebuffer->cursor_y = y;
 189              		.loc 2 82 0
 190 00a4 1920A0E3 		mov	r2, #25
 191 00a8 B622C3E1 		strh	r2, [r3, #38]	@ movhi
 192              	.LVL12:
  81:include/fb/framebuffer.h **** 	framebuffer->cursor_x = x;
 193              		.loc 2 81 0
 194 00ac B472C3E1 		strh	r7, [r3, #36]	@ movhi
 195              	.LBE88:
 196              	.LBE87:
 197              	.LBB89:
 198              	.LBB86:
  61:include/fb/framebuffer.h **** 	framebuffer->boxto(x,y);
 199              		.loc 2 61 0
 200 00b0 2008A0E1 		mov	r0, r0, lsr #16
 201 00b4 2610A0E3 		mov	r1, #38
 202 00b8 10C093E5 		ldr	ip, [r3, #16]
 203 00bc 0FE0A0E1 		mov	lr, pc
 204 00c0 1CFF2FE1 		bx	ip
 205              	.LVL13:
 206              	.LBE86:
 207              	.LBE89:
 208              	.LBB90:
 209              	.LBB91:
  87:include/fb/framebuffer.h **** 	framebuffer->fg_color = color;
 210              		.loc 2 87 0
 211 00c4 003094E5 		ldr	r3, [r4]
 212              	.LBE91:
 213              	.LBE90:
 214              	.LBB93:
 215              	.LBB94:
  81:include/fb/framebuffer.h **** 	framebuffer->cursor_x = x;
 216              		.loc 2 81 0
 217 00c8 0820A0E3 		mov	r2, #8
 218              	.LBE94:
 219              	.LBE93:
  70:apps/compal_dsp_dump/main.c **** 
  71:apps/compal_dsp_dump/main.c **** 	fb_setfg(FB_COLOR_WHITE);
  72:apps/compal_dsp_dump/main.c **** 	fb_setfont(FB_FONT_HELVR08);
  73:apps/compal_dsp_dump/main.c **** 	fb_gotoxy(8,33);
  74:apps/compal_dsp_dump/main.c **** 	fb_putstr("vadimbetman",framebuffer->width-4);
 220              		.loc 1 74 0
 221 00cc B012D3E1 		ldrh	r1, [r3, #32]
 222              	.LBB96:
 223              	.LBB95:
  81:include/fb/framebuffer.h **** 	framebuffer->cursor_x = x;
 224              		.loc 2 81 0
 225 00d0 B422C3E1 		strh	r2, [r3, #36]	@ movhi
  82:include/fb/framebuffer.h **** 	framebuffer->cursor_y = y;
 226              		.loc 2 82 0
 227 00d4 2120A0E3 		mov	r2, #33
 228 00d8 B622C3E1 		strh	r2, [r3, #38]	@ movhi
 229              	.LBE95:
 230              	.LBE96:
 231              	.LBB97:
 232              	.LBB92:
  87:include/fb/framebuffer.h **** 	framebuffer->fg_color = color;
 233              		.loc 2 87 0
 234 00dc 286083E5 		str	r6, [r3, #40]
 235              	.LVL14:
 236              	.LBE92:
 237              	.LBE97:
 238              	.LBB98:
 239              	.LBB99:
 240              		.loc 2 97 0
 241 00e0 3050C3E5 		strb	r5, [r3, #48]
 242              	.LVL15:
 243              	.LBE99:
 244              	.LBE98:
 245              	.LBB100:
 246              	.LBB101:
  71:include/fb/framebuffer.h **** 	return framebuffer->putstr(str,maxwidth);
 247              		.loc 2 71 0
 248 00e4 041041E2 		sub	r1, r1, #4
 249              	.LVL16:
 250 00e8 34009FE5 		ldr	r0, .L4+16
 251 00ec 18C093E5 		ldr	ip, [r3, #24]
 252 00f0 0FE0A0E1 		mov	lr, pc
 253 00f4 1CFF2FE1 		bx	ip
 254              	.LVL17:
 255              	.LBE101:
 256              	.LBE100:
 257              	.LBB102:
 258              	.LBB103:
  76:include/fb/framebuffer.h **** 	framebuffer->flush();
 259              		.loc 2 76 0
 260 00f8 003094E5 		ldr	r3, [r4]
 261 00fc 1CC093E5 		ldr	ip, [r3, #28]
 262 0100 0FE0A0E1 		mov	lr, pc
 263 0104 1CFF2FE1 		bx	ip
 264              	.LVL18:
 265              	.LBE103:
 266              	.LBE102:
  75:apps/compal_dsp_dump/main.c **** 
  76:apps/compal_dsp_dump/main.c **** 	fb_flush();
  77:apps/compal_dsp_dump/main.c **** 
  78:apps/compal_dsp_dump/main.c **** 	/* Dump DSP content */
  79:apps/compal_dsp_dump/main.c **** 	dsp_dump();
 267              		.loc 1 79 0
 268 0108 FEFFFFEB 		bl	dsp_dump
 269              	.LVL19:
 270              	.L2:
  80:apps/compal_dsp_dump/main.c **** 
  81:apps/compal_dsp_dump/main.c **** 	while (1) {
  82:apps/compal_dsp_dump/main.c **** 		osmo_timers_update();
 271              		.loc 1 82 0 discriminator 1
 272 010c FEFFFFEB 		bl	osmo_timers_update
 273              	.LVL20:
 274 0110 FDFFFFEA 		b	.L2
 275              	.L5:
 276              		.align	2
 277              	.L4:
 278 0114 00000000 		.word	.LANCHOR0
 279 0118 00000000 		.word	.LC0
 280 011c 00000000 		.word	framebuffer
 281 0120 49000000 		.word	.LC1
 282 0124 52000000 		.word	.LC2
 283              		.cfi_endproc
 284              	.LFE37:
 286              		.global	hr
 287              		.section	.rodata.str1.1,"aMS",%progbits,1
 288              	.LC0:
 289 0000 0A0A5641 		.ascii	"\012\012VADIMBETMAN Compal DSP Dumper (revision osm"
 289      44494D42 
 289      45544D41 
 289      4E20436F 
 289      6D70616C 
 290 002d 6F636F6E 		.ascii	"ocon_v0.0.0-1766-g9ec3f72)\012\000"
 290      5F76302E 
 290      302E302D 
 290      31373636 
 290      2D673965 
 291              	.LC1:
 292 0049 44535020 		.ascii	"DSP Dump\000"
 292      44756D70 
 292      00
 293              	.LC2:
 294 0052 76616469 		.ascii	"vadimbetman\000"
 294      6D626574 
 294      6D616E00 
 295              	.LC3:
 296 005e 3D3D3D3D 		.ascii	"==================================================="
 296      3D3D3D3D 
 296      3D3D3D3D 
 296      3D3D3D3D 
 296      3D3D3D3D 
 297 0091 3D3D3D3D 		.ascii	"===================\012\000"
 297      3D3D3D3D 
 297      3D3D3D3D 
 297      3D3D3D3D 
 297      3D3D3D0A 
 298              		.data
 299              		.align	2
 300              		.set	.LANCHOR0,. + 0
 303              	hr:
 304 0000 5E000000 		.word	.LC3
 305              		.text
 306              	.Letext0:
 307              		.file 3 "/opt/arm/install/arm-none-eabi/sys-include/stdint.h"
 308              		.file 4 "include/calypso/misc.h"
 309              		.file 5 "include/calypso/dsp.h"
 310              		.file 6 "include/fb/font.h"
 311              		.file 7 "include/board.h"
 312              		.file 8 "include/stdio.h"
 313              		.file 9 "include/comm/timer.h"
DEFINED SYMBOLS
                            *ABS*:00000000 main.c
     /tmp/ccHC8tNF.s:17     .text.startup.main:00000000 $a
     /tmp/ccHC8tNF.s:20     .text.startup.main:00000000 main
     /tmp/ccHC8tNF.s:278    .text.startup.main:00000114 $d
     /tmp/ccHC8tNF.s:303    .data:00000000 hr
     /tmp/ccHC8tNF.s:299    .data:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
board_init
puts
dump_dev_id
dsp_dump
osmo_timers_update
framebuffer
